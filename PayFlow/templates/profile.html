<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Profile â€” {{ user.username }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-100">
  <div class="mx-auto w-full max-w-4xl px-4 py-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-bold text-blue-600">Welcome, {{ user.username }}</h2>
      <a href="{{ url_for('logout') }}" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">Logout</a>
    </div>

    <h3 class="text-lg font-semibold mb-2">Your Shift Records</h3>
    <a href="{{ url_for('export_csv') }}" class="inline-block mb-3 bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600">Export as CSV</a>
    <div class="overflow-x-auto bg-white rounded shadow">
      <table class="w-full border-collapse border border-gray-300">
        <thead class="bg-gray-50">
          <tr>
            <th class="border p-2">Date</th>
            <th class="border p-2">Job</th>
            <th class="border p-2">Type</th>
            <th class="border p-2">Start</th>
            <th class="border p-2">End</th>
            <th class="border p-2">Break Start</th>
            <th class="border p-2">Break End</th>
            <th class="border p-2">Hours</th>
            <th class="border p-2">Hourly</th>
            <th class="border p-2">Curr</th>
            <th class="border p-2">Total</th>
          </tr>
        </thead>
        <tbody>
          {% for s in user.shifts %}
          <tr>
            <td class="border p-2">{{ s.date }}</td>
            <td class="border p-2">{{ s.job.name if s.job else '' }}</td>
            <td class="border p-2">{{ s.shift_type }}</td>
            <td class="border p-2">{{ s.start_time }}</td>
            <td class="border p-2">{{ s.end_time }}</td>
            <td class="border p-2">{{ s.break_start }}</td>
            <td class="border p-2">{{ s.break_end }}</td>
            <td class="border p-2">{{ s.total_hours }}</td>
            <td class="border p-2">{{ s.hourly_wage }}</td>
            <td class="border p-2">{{ s.currency }}</td>
            <td class="border p-2">{{ s.total_wage }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
</body>
</html>
